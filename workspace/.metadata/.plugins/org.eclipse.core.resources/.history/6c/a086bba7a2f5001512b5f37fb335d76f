package board;
import java.sql.*;
public class CommentDBBean {
	private static CommentDBBean instance = new CommentDBBean();
	
	public static CommentDBBean getInstance(){
		return instance;
	}
	
	private CommentDBBean(){}
	
	private Connection getConnection() throws Exception{
		String jdbcDriver = "jdbc:apache:commons:dbcp:/pool";
		return DriverManager.getConnection(jdbcDriver);
	}
	
	public void insertComment(CommentDataBean cdb) throws Exception{
		Connection conn = null;
		PreparedStatement pstmt = null;
		try{
			conn=getConnection();
			String sql="insert into b_comment values(?,?,?,?,?,?,?,?)";
			pstmt=conn.prepareStatement(sql);
			pstmt.setInt(1, cdb.getComment_num());
			pstmt.setInt(2, cdb.getContent_num());
			pstmt.setString(3, cdb.getCommenter());
			pstmt.setString(4, cdb.getCommentt());
			pstmt.setString(5,  cdb.getPasswd());
			pstmt.setTimestamp(6, cdb.getReg_date());
			pstmt.setString(7, cdb.getIp());
			pstmt.executeUpdate();
			
		}catch(Exception e){
			e.printStackTrace();
		}finnally{
			
		}
	}
	

}
